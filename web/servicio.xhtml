<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <head>
        <style>
            section {
                width:350px;
                float:left;
                padding:10px;
                border: 1px solid blue;	 	 
            }
        </style>
        <title>Servicios</title>
        <link href="css/bootstrap.min.css" rel="stylesheet"/>
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
    </head>
    
    <body style="background-color:#D3D3D3">
        <br/>
        <br/> 
        <div class="row">
            <div class="col-md-2" style="color:black;font-size:200%;">El Prometeo</div>
            <div class="col-md-2">
                <a href="perfil.xhtml">Mi perfil</a>
            </div>
            <div class="col-md-3">
                
                <form id="searchform">
                    <input type="text" placeholder="Buscar aqu&iacute;..."/>
                    <button type="submit">Buscar</button>
                </form>  
            </div>
            <div class="col-md-3">
                <h:form rendered="#{usuarioBean.verificarSesion()}">
                    <h:commandButton value="Cerrar Sesión" action="#{usuarioBean.cerrarSesion()}"/>                         
                </h:form> 
            </div>
            <div class="col-md-3">       
                <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">Crea tu servicio</button>
                <!-- Modal -->
                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel">¿Qué servicio ofreces?</h4>
                            </div>
                            <div class="modal-body">
                                <h:form>
                                    <div class="form-group">
                                        <h:inputText class="form-control" id="nombre" p:placeholder="Título" value="#{servicioBean.servicio.titulo}"/>
                                    </div> 
                                    <div class="form-group">
                                        <label class="sr-only" for="exampleInputAmount">Presupuesto</label>
                                        <div class="input-group">
                                            <div class="input-group-addon">$</div>
                                            <h:inputText class="form-control" id="exampleInputAmount" p:placeholder="Presupuesto" value="#{servicioBean.servicio.presupuesto}"/>
                                            <div class="input-group-addon">.00</div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <h:inputTextarea class="form-control" rows="3" p:placeholder="Descripción" value="#{servicioBean.servicio.description}"/>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                                        <h:commandButton value="Crear" action="#{servicioBean.crear(usuarioBean.usuario)}"/>
                                    </div>              
                                </h:form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
         <div class="container">
            <c:forEach var="ser" items="#{servicioBean.getServicios()}">   
                <div class="servicios">
                    <section>
                        <label> Titulo del servicio:</label>
                        <h:form> 
                            <p> <h:commandLink value="#{ser.titulo}" action="#{servicioBean.mostrar(ser.idServicio)}" > </h:commandLink> </p>
                        </h:form>
                        <label>Presupuesto:</label>
                        <p>$#{ser.presupuesto}</p>
                        <label>Descripción:</label>
                        <p>#{ser.description}</p>
                    </section>
                </div>
            </c:forEach>
        </div> 
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"/>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"/>
        <script src="bootstrap.min.js"/>
        <script src="docs/assets/js/ie10-viewport-bug-workaround.js"/>
    </body>      
</html>
