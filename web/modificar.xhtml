<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:t="http://primefaces.org/ui"

      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:body style="background-color:white">
        <title>Modificar perfil</title>
        <link href="css/bootstrap.min.css" rel="stylesheet"/>

        <div class="container" style="background-color: #f5e79e">
            <ui:include src="/WEB-INF/header.xhtml" /> 
            <div class="row">   
                <div class="col-md-6" style="color:black;font-size:400%;">Modificar Perfil</div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-md-3">
                        <br />
                        <br />
                        <br />
                        <br />
                        <c:if test="#{usuarioBean.usuario.imagen == null or usuarioBean.usuario.imagen eq ''}">        
                            <img style="border-radius=8px;" src="perfil.jpeg" alt="Perfil"/>
                        </c:if>
                        <c:if test="#{!(usuarioBean.usuario.imagen == null or usuarioBean.usuario.imagen eq '')}">
                            <h1></h1>          
                            <img style="border-radius=8px;" height="300" width="300" src="./resources/imagenes/#{usuarioBean.usuario.imagen}" alt="Perfil" />
                        </c:if>
                        <br />
                        <br />
                        <br />                        
                        <h:form enctype="multipart/form-data">
                            <t:growl id="messages" showDetail="true" />
                            <t:fileUpload value="#{usuarioBean.imagen}" mode="simple"/>
                            <br/>
                            <br/>
                            <t:commandButton class="btn btn-default" value="Guardar Imagen" ajax="false" 
                                             actionListener="#{usuarioBean.guardaImagen()}"/>
                        </h:form>
                        <br/>
                        <br/>
                        <h:form>
                            <h:commandButton value="Eliminar perfil" class="btn btn-danger btn-primary btn-lg active" action="#{usuarioBean.eliminar()}" onclick="if (!confirm('¿Desea de verdad eliminar su perfil y sus servicios?')) {
                                        return false;
                                    }
                                    ;
                                    return true;
                                             "/>
                        </h:form>
                    </div>
                    <div class="col-md-6 col-md-offset-2">
                        <br />
                        <br />
                        <h:form>
                            <div class="form-group">
                                <label style="color: black;font-size: 150%" for="Descripción">Descripción</label>
                                <h:inputTextarea class="form-control" rows="3" p:placeholder="Descripción" value="#{usuarioBean.usuario.esAgente() ? usuarioBean.usuario.agente.ocupacion : usuarioBean.usuario.programador.formacion}"/>
                            </div>
                            <div class="form-group">
                                <label style="color: black;font-size: 150%" for="Nombre">Nombre</label>
                                <h:inputText class="form-control" id="nombre" p:placeholder="#{usuarioBean.usuario.nombre}" value="#{ usuarioBean.usuario.nombre}"/>
                            </div> 	
                            <div class="form-group">
                                <label style="color: black;font-size: 150%" for="ApellidoPaterno">Apellido Paterno</label>
                                <h:inputText class="form-control" id="apellidoPaterno" p:placeholder="#{usuarioBean.usuario.apellidoPaterno}" value="#{usuarioBean.usuario.apellidoPaterno}"/>
                            </div>   	
                            <div class="form-group">
                                <label style="color: black;font-size: 150%" for="ApellidoMaterno">Apellido Materno</label>
                                <h:inputText class="form-control" id="apellidoMaterno" p:placeholder="#{usuarioBean.usuario.apellidoMaterno}" value="#{usuarioBean.usuario.apellidoMaterno}"/>
                            </div> 

                            <label style="color: black;font-size: 150%" for="estado">Estado:</label>
                            <br/>
                            <h:selectOneMenu value="#{usuarioBean.usuario.estado}">
                                <f:selectItem itemValue="Aguascalientes" itemLabel="Aguascalientes" />
                                <f:selectItem itemValue="Baja California" itemLabel="Baja California" />
                                <f:selectItem itemValue="Baja California Sur" itemLabel="Baja California Sur" />
                                <f:selectItem itemValue="Campeche" itemLabel="Campeche" />
                                <f:selectItem itemValue="Coahuila" itemLabel="Coahuila" />
                                <f:selectItem itemValue="Colima" itemLabel="Colima" />
                                <f:selectItem itemValue="Chiapas" itemLabel="Chiapas" />
                                <f:selectItem itemValue="Chihuahua" itemLabel="Chihuahua" />
                                <f:selectItem itemValue="Ciudad de México" itemLabel="Ciudad de México" />
                                <f:selectItem itemValue="Durango" itemLabel="Durango" />
                                <f:selectItem itemValue="Guanajuato" itemLabel="Guanajuato" />
                                <f:selectItem itemValue="Guerrero" itemLabel="Guerrero" />
                                <f:selectItem itemValue="Hidalgo" itemLabel="Hidalgo" />
                                <f:selectItem itemValue="Jalisco" itemLabel="Jalisco" />
                                <f:selectItem itemValue="Estado de México" itemLabel="Estado de México" />
                                <f:selectItem itemValue="Michoacán" itemLabel="Michoacán" />
                                <f:selectItem itemValue="Morelos" itemLabel="Morelos" />
                                <f:selectItem itemValue="Nayarit" itemLabel="Nayarit" />
                                <f:selectItem itemValue="Nuevo León" itemLabel="Nuevo León" />
                                <f:selectItem itemValue="Oaxaca" itemLabel="Oaxaca" />
                                <f:selectItem itemValue="Puebla" itemLabel="Puebla" />
                                <f:selectItem itemValue="Querétaro" itemLabel="Querétaro" />
                                <f:selectItem itemValue="Quintana Roo" itemLabel="Quintana Roo" />
                                <f:selectItem itemValue="San Luis Potosí" itemLabel="San Luis Potosí" />
                                <f:selectItem itemValue="Sinaloa" itemLabel="Sinaloa" />
                                <f:selectItem itemValue="Sonora" itemLabel="Sonora" />
                                <f:selectItem itemValue="Tabasco" itemLabel="Tabasco" />
                                <f:selectItem itemValue="Tamaulipas" itemLabel="Tamaulipas" />
                                <f:selectItem itemValue="Tlaxcala" itemLabel="Tlaxcala" />
                                <f:selectItem itemValue="Veracruz" itemLabel="Veracruz" />
                                <f:selectItem itemValue="Yucatán" itemLabel="Yucatán" />
                                <f:selectItem itemValue="Zacatecas" itemLabel="Zacatecas" />
                            </h:selectOneMenu>    
                            <div class="form-group">
                                <br/>
                                <label style="color: black;font-size: 150%" for="Correo">Correo</label>
                                <h:inputText class="form-control" id="correo" p:placeholder="#{usuarioBean.usuario.correo}" value="#{usuarioBean.usuario.correo}"/>
                            </div> 
                            <div>
                                <label style="color: black;font-size: 150%" for="Teléfono">Teléfono</label>
                                <h:inputText class="form-control" id="telefono" p:placeholder="#{usuarioBean.usuario.telefono}" value="#{usuarioBean.usuario.telefono}"/>
                            </div>
                            <br />
                            <br />
                            <h:commandButton value="Guardar" class="btn btn-default" action="#{usuarioBean.modificarPerfil()}"/>
                            <a href="perfil.xhtml" class="btn btn-default btn-lg active" role="button">Cancelar</a>
                        </h:form> 
                    </div>
                </div>
            </div>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"/>
            <script src="js/bootstrap.min.js"/>
            <script src="docs/assets/js/ie10-viewport-bug-workaround.js"/>
            <br/>
            <br/>
        </div>
    </h:body>      
</html>
